# Copyright 2024 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# ==============================================================================
"""한국어 프롬프트 템플릿 for the LLM Comparator script."""


DEFAULT_LLM_JUDGE_PROMPT_TEMPLATE = """사용자 질문과 두 개의 AI 어시스턴트가 제공한 응답 A와 응답 B가 주어집니다.
당신의 임무는 어느 응답이 사용자의 질문에 더 잘 답변하는지 판단하는 심사위원 역할을 하는 것입니다.

평가 시 다음 기준을 고려할 수 있습니다:
- 응답이 사용자의 질문에 완전히 답변하는가?
- 응답이 질문의 핵심 사항을 다루는가?
- 응답이 명확하게 작성되었으며 불필요한 정보를 피하는가?
- 질문이 창의적인 콘텐츠 생성을 요구할 때 응답이 창의적인가?
- 응답에 사실적인 정보가 포함되어 있는가?
- 응답에 유해하거나, 안전하지 않거나, 위험하거나, 성적으로 노골적인 내용이 포함되어 있지 않은가?
- 유해하거나, 안전하지 않거나, 위험하거나, 성적으로 노골적인 내용을 요구하는 질문에 응답이 답변을 거부하는가?

다음 XML 형식으로 간단한 설명과 최종 평가(판정)를 제공해야 합니다.

<result>
  <explanation>여기에 설명을 작성하세요.</explanation>
  <verdict>A가 약간 더 좋음</verdict>
</result>

설명은 두 응답을 비교하고 평가 뒤에 있는 근거를 설명할 수 있습니다.
약 두세 문장 정도로 작성하세요.
최종 평가(판정)는 7점 리커트 척도여야 하며 다음 중 정확히 하나여야 합니다:
['A가 훨씬 더 좋음', 'A가 더 좋음', 'A가 약간 더 좋음', '비슷함', 'B가 약간 더 좋음', 'B가 더 좋음', 'B가 훨씬 더 좋음'].

[사용자 질문]
{prompt}

[응답 A 시작]
{response_a}
[응답 A 끝]

[응답 B 시작]
{response_b}
[응답 B 끝]

다음 조건을 반드시 지키세요.

1. 출력은 반드시 하나의 XML 블록만 포함해야 합니다.
2. XML 블록 외에 어떤 텍스트도 출력하지 마세요.
3. XML 태그 이름(<result>, <explanation>, <verdict>)은 절대 변경하지 마세요.
4. <verdict> 안에는 아래 리스트 중 정확히 하나만 적으세요.
5. <explanation> 안에는 '<' 또는 '&' 같은 특수문자를 사용하지 마세요.

[위 XML 형식으로 설명과 판정이 포함된 결과만 출력하세요. 
그 외 어떤 추가 텍스트도 출력하지 마세요.]

출력은 반드시 <result>로 시작하고 </result>로 끝내야 합니다.

[위 XML 형식으로 설명과 판정이 포함된 결과]
"""


DEFAULT_PROMPT_TEMPLATE_FOR_BULLETING = """이 작업에서는 주어진 프롬프트에 대한 두 응답(A와 B) 중 하나가 다른 것보다 나은 이유에 대한 근거 집합이 제공됩니다.

목표는 제공된 근거 집합을 XML 형식의 짧은 구문 글머리 기호 목록으로 요약하는 것입니다.

제공된 중요한 근거를 다루는 최대 {up_to_size}개의 구문을 제공하세요.

상세 지침:
- 어느 쪽이 더 나은지 제공됩니다: A 또는 B. 더 나은 쪽이 왜 더 나은지 또는 다른 쪽이 왜 더 나쁜지 설명해야 합니다.
- 각 구문에 대해, 더 나은 쪽이 왜 더 나은지 이야기한다면 (소문자) 동사로 시작하고; 다른 쪽이 왜 더 나쁜지 이야기한다면 "~하지 않음" 다음에 동사를 사용할 수 있습니다.
- 각 구문은 10단어 미만을 사용해야 합니다.
- 구문에 A 또는 B를 언급해서는 안 됩니다(예: [응답 A] 또는 [응답 B]라고 말하지 마세요). 이것은 매우 중요합니다.

다음은 두 가지 예시입니다.

==
예시 1:

어느 것이 더 나은가 (A 또는 B): A

근거:
- 프롬프트는 수백 개의 아이디어를 요청했지만 [응답 B]는 충분한 아이디어를 제공하지 않습니다. [응답 A]는 많은 창의적인 아이디어를 제공합니다.
- 두 응답 모두 적절한 길이입니다. [응답 A]가 답변에서 약간 더 포괄적이고 상세하며 마지막에 유용한 팁을 제공합니다.
- 두 응답 모두 훌륭했고 대부분 동일한 정보를 포함했습니다. 응답 A는 음식과 음료에 대한 더 많은 아이디어를 포함했고 준비 팁도 포함했기 때문에 조금 더 도움이 되었다고 생각합니다.
- [응답 B]의 아이디어는 너무 일반적입니다.
- [응답 A]는 훌륭합니다; 어린이 생일 파티를 주최하기 위한 많은 재미있고 창의적인 아이디어를 제공할 뿐만 아니라 일반적인 파티 준비 및 조직에 대한 유용한 조언도 추가합니다.
- 두 응답 모두 생일 파티에 대한 좋은 제안이 있습니다. [응답 A]는 더 많은 아이디어와 음식 및 음료에 대한 제안, 준비 및 조직에 대한 팁이 있습니다.

XML 형식의 근거 요약:
<summary>
  <reason>더 많은 창의적인 아이디어 제공</reason>
  <reason>마지막에 더 많은 유용한 팁 제공</reason>
  <reason>일반적인 아이디어를 제공하지 않음</reason>
</summary>

==
예시 2:

어느 것이 더 나은가 (A 또는 B): B

근거:
- [응답 B]는 더 도움이 되며 시의 작성자가 시를 향상시킬 수 있는 더 유용한 방법을 제공합니다. 또한 [응답 A]보다 더 나은 잠재적 제목 옵션이 있습니다.
- [응답 B]가 수행한 분석은 시를 비평하고 유용한 제안을 제공하는 데 더 도움이 되었습니다. [응답 A]는 제안을 제공했지만 구현하기 쉬운 방식은 아니었습니다.
- [응답 B]는 사용자에게 칭찬뿐만 아니라 시에 대한 건설적인 피드백을 제공하여 전반적으로 더 나은 응답이 되었습니다. 응답 A는 약간 반복적이었습니다.
- [응답 B]는 더 나은 제목 제안을 제공했습니다.
- [응답 A]는 부정확한 정보를 제공합니다.
- [응답 B]는 시에 대한 훨씬 더 철저한 분석과 비평을 제공했기 때문에 약간 더 나았습니다. [응답 B]보다 비평에서 더 많은 맥락과 세부 사항을 제공하여 더 나은 제안과 특정 부분의 예를 제공했습니다.

XML 형식의 근거 요약:
<summary>
  <reason>건설적인 피드백 제공</reason>
  <reason>부정확한 정보를 제공하지 않음</reason>
  <reason>세부 사항과 함께 더 철저한 분석 제공</reason>
</summary>

==
이제 어느 것이 더 나은지와 근거에 대한 정보를 제공하겠습니다.

어느 것이 더 나은가: {winner}

근거:
{rationales}

위의 예시와 상세 지침에 따라 XML 형식으로 근거를 요약하세요.
<summary>로 시작하는 XML로 직접 시작하세요.

XML 형식의 근거 요약:"""


DEFAULT_PROMPT_TEMPLATE_FOR_PARAPHRASING = """당신의 임무는 다음 구문을 세 가지 다른 방식으로 바꿔 말하는 것입니다.
주어진 구문은 특정 단락이 다른 단락보다 나은 이유 또는 나쁜 이유에 관한 것입니다.
바꿔 말할 때 의미를 크게 변경하지 마세요.
한두 단어를 변경하는 것과 같이 구문을 최소한으로 편집해야 합니다.
구문이 동사로 시작하면 바꿔 말한 결과도 소문자 동사로 시작해야 합니다;
구문이 "~하지 않음" 다음에 동사로 시작하면 바꿔 말한 결과도 "~하지 않음" 다음에 소문자 동사로 시작해야 합니다.

구문: "{bullet_phrase}"

바꿔 말한 구문에 다음 XML 형식을 사용하세요:
<phrases>
  <phrase>...</phrase>
  <phrase>...</phrase>
  <phrase>...</phrase>
</phrases>

위 XML 형식의 세 가지 바꿔 말한 구문:"""


DEFAULT_PROMPT_TEMPLATE_FOR_CLUSTERING = """이 작업에서는 한 텍스트가 다른 텍스트보다 나은 이유 또는 나쁜 이유의 근거를 설명하는 구문 집합이 제공됩니다.

아래에 구문 목록을 제공합니다.

===== 구문 시작 =====
{rationales}
===== 구문 끝 =====

목표는 제공된 근거 구문을 다양하고 대표적인 {num_clusters}개 그룹으로 클러스터링한 다음 {num_clusters}개 클러스터 각각에 대한 제목을 식별하는 것입니다.
이러한 클러스터 제목을 아래와 같은 XML 형식으로 반환합니다. {num_clusters}개 이상의 제목을 제공하지 마세요.

이 작업을 수행할 때 가능한 한 아래 지침을 따르세요:
- 각 제목을 간결하게 약 2-4단어로 작성하세요.
- 한 가지 측면을 명확하게 설명하세요. 각 제목에 대해 구문에 "그리고"를 사용하지 마세요(예: "더 창의적이고 간결함" 대신 "더 창의적임"이라고 말해야 합니다).
- 서로 충분히 구별되는 그룹 제목을 제공하세요(상호 배타적).
- 너무 유사한 구조를 사용하는 많은 그룹 제목을 갖지 마세요(예: 항상 "더 형용사임"이라고 말하지 말고 때로는 "제공함" 또는 "제안함"으로 시작하세요).
- 각 제목은 소문자 동사(예: "~임...", "~임..." 아님) 또는 "~하지 않음" 다음에 동사로 시작해야 합니다.

다음 XML 형식으로 정확히 {num_clusters}개의 제목을 제공하세요.
반드시 <groups>로 시작하고 </groups>로 끝나야 합니다.
각 제목은 <group> 태그로 감싸야 합니다.

예시 (8개 그룹인 경우):
<groups>
  <group>더 잘 조직됨</group>
  <group>더 정확함</group>
  <group>단계별 절차 제공</group>
  <group>부정확한 정보를 제공하지 않음</group>
  <group>다양한 옵션 제공</group>
  <group>창의적인 솔루션 제공</group>
  <group>다양한 요소 고려</group>
  <group>부적절한 질문에 답변 거부</group>
</groups>

위 형식을 정확히 따라 {num_clusters}개 그룹의 제목을 생성하세요.
반드시 <groups>로 시작하고 </groups>로 끝내야 합니다:
"""


DEFAULT_FEW_EXAMPLES_FOR_CLUSTERING = [
    '더 잘 조직됨',
    '더 잘 구조화됨',
    '단계별 절차 제공',
    '더 정확함',
    '부정확한 정보를 제공하지 않음',
    '다양한 옵션 제공',
    '외부 링크 제공',
    '창의적인 솔루션 제공',
    '다양한 요소 고려',
    '부적절한 질문에 답변 거부',
]